2024-09-19 14:36:02.001 [ERR] Url:127.0.0.1:9082/api/Message/SendMessage
RequestId:528bb92607f24727a7d79886d1a3978d
RemoteAddress:::ffff:127.0.0.1
X-Forwarded-For:
SourceContext:Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/Message/SendMessage responded 500 in 50599.0991 ms
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at HS.Message.Share.Authentication.CustomAuthenticationHandler.InitializeHandlerAsync() in D:\project\HaiSheng\HS.Message\HS.Message.Share\Authentication\CustomAuthenticationHandler.cs:line 65
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IGeekFan.AspNetCore.Knife4jUI.Knife4jUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)

2024-09-19 14:47:01.075 [ERR] Url:127.0.0.1:9082/api/Message/SendMessage
RequestId:43315f1195c24bb691eb603a55613b3a
RemoteAddress:::ffff:127.0.0.1
X-Forwarded-For:
SourceContext:HS.Message.Share.Handlers.GlobalExceptionHandler
Exception：A TransactionScope must be disposed on the same thread that it was created.:   at System.Transactions.TransactionScope.Dispose()
   at HS.Message.Service.core.imp.MessageService.SendMessageAsync(List`1 request) in D:\project\HaiSheng\HS.Message\HS.Message.Service\core\imp\MessageService.cs:line 231
   at HS.Message.Controllers.MessageController.SendMessageAsync(List`1 request) in D:\project\HaiSheng\HS.Message\HS.Message.API\Controllers\MessageController.cs:line 37
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)，InnerException：

2024-09-19 14:54:02.403 [ERR] Url:127.0.0.1:9082/api/Message/SendMessage
RequestId:c9b9f47d8288490ab9ea3f6fcc51dee9
RemoteAddress:::ffff:127.0.0.1
X-Forwarded-For:
SourceContext:HS.Message.Share.Handlers.GlobalExceptionHandler
Exception：Data too long for column 'logical_id' at row 1:   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at HS.Message.Repository.database.tool.BaseDapperTool`1.ExecuteNonQueryAsync[T2](String SQLString, T2 tmodel) in D:\project\HaiSheng\HS.Message\HS.Message.Repository\database\tool\BaseDapperTool.cs:line 130
   at HS.Message.Repository.database.core.BaseRepository`1.BactchAddDataAsync(List`1 modelList) in D:\project\HaiSheng\HS.Message\HS.Message.Repository\database\core\BaseRepository.cs:line 73
   at HS.Message.Repository.repository.base.core.MySqlBizRepository`2.BactchAddAsync(List`1 modelList) in D:\project\HaiSheng\HS.Message\HS.Message.Repository\repository\base\core\MySqlBizRepository.cs:line 114
   at HS.Message.Repository.repository.base.core.BizRepositoryAdapter`2.BactchAddAsync(List`1 modelList) in D:\project\HaiSheng\HS.Message\HS.Message.Repository\repository\base\core\BizRepositoryAdapter.cs:line 92
   at HS.Message.Service.core.imp.MessageService.SendMessageAsync(List`1 request) in D:\project\HaiSheng\HS.Message\HS.Message.Service\core\imp\MessageService.cs:line 216
   at HS.Message.Controllers.MessageController.SendMessageAsync(List`1 request) in D:\project\HaiSheng\HS.Message\HS.Message.API\Controllers\MessageController.cs:line 37
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)，InnerException：

